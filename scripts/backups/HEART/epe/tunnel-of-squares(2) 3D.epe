{
  "name": "tunnel-of-squares(2) 3D",
  "id": "sDbNPr4s9jzGLbBMA",
  "sources": {
    "main": "// Endless tunnel of spiraling squares\n// Stare at it long enough and optical illusion makes it seem\n// like the background is moving too.  \n//\n// MIT License\n// Take this code and make something cool!\n// 8/25/2021 ZRanger1\n\nvar t2;\nexport var speed = 5;\nexport var nSquares = 4;\nexport var h\nvar cosT = cos(0.1), sinT = sin(0.1);\n\nfunction signum(a) {\n  return (a > 0) - (a < 0)\n}\n\nexport var speed = 5;\nvar timebase;\n\nexport function sliderSpeed(v) {\n  speed = 1+9* v;\n}\n\nexport function sliderSquarocity(v) {\n  nSquares = 1+floor(6*v);\n}\n\ntranslate(-0.5,-0.5); \n\nexport function beforeRender(delta) {\n  timebase = (timebase + delta/1000) % 3600;\n  t2 = time(0.08);\n  t1 = speed * timebase;\n}\n\n// squared spiral expression adapted from https://www.shadertoy.com/view/4tlfRB  \nexport function render2D(index,x,y) {\n  x1 = signum(x); y1 = signum(y);\n  sx = x1 * cosT + y1 * sinT;\n  sy = y1 * cosT - x1 * sinT;\n\n  dx = abs(sin(nSquares*log(x * sx + y * sy) + atan2(y,x) - t1))\n  h = (t2 + x*sx + y*sy)\n  hsv(h, 1, dx * dx * dx)\n}\n// You can also project up a dimension. Think of this as mixing in the z value\n// to x and y in order to compose a stack of matrices.\nexport function render3D(index, x, y, z) {\n  x1 = (x - cos(z / 4 * PI2)) / 2\n  y1 = (y - sin(z / 4 * PI2)) / 2\n  render2D(index, x1, y1)\n}"
  },
  "preview": "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"
}