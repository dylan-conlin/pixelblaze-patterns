{
  "name": "spiral twirls 2D",
  "id": "A8P6jQMBvTTfoPEwA",
  "sources": {
    "main": "/*\n  Spiral twirls 2D\n  \n  A configurable 2D pattern that creates a variety of rotating and swirling\n  circular and spiral effects.\n  \n  Output demo: https://youtu.be/2sCOhYdifus\n  \n  For best results a matrix of 16x16 or greater is recommended.\n  \n  It's suggested to start with all the sliders at zero, then try each of them\n  one at a time to see what impact it has on the resultant pattern. That way it\n  should be easier to understand how to combine them all to get the effect you'd\n  like.\n  \n  Generously contributed by ChrisNZ (Chris) from the Pixelblaze forums.\n    https://forum.electromage.com/u/chrisnz\n*/\n\nvar twistSpeed = .015\nvar rotateSpeed = .002\nvar startingColor = .3\nvar colorSpeed = .015\nvar twist, rotation, colorShift, arms\n\n\n// How quickly the spiral should rotate back and forth\nexport function sliderTwistSpeed(v) { twistSpeed = v = 0 ? 0 : .015 / v }\n\n// How quickly the entire pattern should rotate\nexport function sliderRotationSpeed(v) { rotateSpeed = v = 0 ? 0 : .005 / v }\n\n// What initial colors to display. If colorSpeed is zero then the pattern will\n// stay this color\nexport function sliderInitialColor(v) { startingColor = v * 2 }\n\n// How quickly the colors of the pattern should change\nexport function sliderColorSpeed(v) { colorSpeed = v = 0 ? 0 : .015 / v }\n\n// How many arms of symmetry the pattern should have (1-3)\nexport function sliderArms(v) { arms = 1 + floor(v * 2.999) }\n\n\nexport function beforeRender(delta) {\n  twist = wave(time(twistSpeed)) * 2 - 1\n  rotation = time(rotateSpeed)\n  colorShift = time(colorSpeed)\n}\n\nexport function render2D(index, x0, y0) {\n  x = (x0 - .5) * 2\n  y = (y0 - .5) * 2\n  dist = sqrt(x * x + y * y)\n  angle = (atan2(y, x) + PI) / PI / 2\n  angle += dist * twist / 2\n  \n  h = angle * arms - rotation + 10\n  h = h - floor(h)\n  v = (1.01 - dist) * (h < .5 ? h * h * h : h)\n  h = (h + startingColor) / 2 + colorShift\n  \n  hsv(h, 1, v)\n}\n"
  },
  "preview": "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"
}