{
  "name": "firework rocket sparks",
  "id": "FxwNyX6zQZAusmaKc",
  "sources": {
    "main": "/*\n  Firework rocket sparks\n  \n  In this pattern we'll learn a technique to send an object across the strip.\n  \n  Our goal is to have a fiery rocket (oranges and reds) followed by a sparkling\n  white tail.\n  \n  You'll learn some convenient tricks for animating things in Pixelblaze. You \n  might be thinking, \"OK, I'll store a position for the head of the rocket. \n  The pixel should be red if it's a little behind that, then some sparks, \n  then dark. Then I'll advance that position between frames.\" While you could \n  build it that way, this pattern helps you start thinking in terms of,\n  \"Everything's a travelling wave or derivative of one.\"\n*/\n\nexport function beforeRender(delta) {\n  // time() outputs a sawtooth from 0..1. An argument of 0.05 means it takes \n  // 0.04 * 65.536 seconds to progress to 1 before looping back to 0.\n  t1 = time(0.04)\n}\n\nexport function render(index) {\n  /*\n    Start with a square wave traveling left (because adding an offset like t1 \n    is a left shift). The specified duty cycle of 0.15 means 15% of the\n    wavelength is a 1, and the rest is 0. We're defining a section which is 15%\n    of the strip's LEDs, and it's moving left. This section is the part that can\n    be a spark.\n  */\n  canSpark = square(index / pixelCount + t1, 0.15)\n  \n  /*\n    To be a white spark, two things need to be true: This pixel in the canSpark \n    section, and a randomly selected number between 0 and 1 needs to be greater \n    than 0.95 (a 1-in-20 chance)\n  */\n  isSpark = canSpark && random(1) > 0.95\n  \n  // To make a fiery rocket, set up a second square wave that will be 5% of the \n  // strip length, and lead the sparks section by 5% of the strip length.\n  isFire = square(index / pixelCount + t1 + 0.05, 0.05)\n  \n  /*\n    Now we'll set our hues for the fiery section. We want something between \n    hue 0 (red) and hue 0.2 (yellow).\n\n    You might think, how about making it yellow up front, and the redish portion\n    trails behind, all of it moving along with the rocket. We could do that, but\n    the alternate approach used here sort of simulates fire being expelled from\n    a rocket instead. The red-to-yellow sawtooth gradient is only a function of\n    the pixel's position in the strip. That way, as the rocket moves through \n    space, it leaves a trail behind it instead of keeping the plume with it.\n    \n    The \"%\" is the remainder operation, so we'll get a repeating sequence\n    between 0 and 0.2\n  \n    As you'll see in a second, this hue will be ignored for sparks because \n    sparks will have their saturation set to zero. A zero saturation makes the \n    pixel white no matter what the hue is.\n  */\n  h = (index / (pixelCount / 5)) % .2\n\n  /*\n    Let's put it all together with hsv(hue, saturation, value). \n    \n    The final color of a pixel will be either:\n      - black (because value is zero)\n      - white (because value is high and saturation is zero), or \n      - red-yellow (because value is high and saturation is high)\n      \n    h will always be a hue between red and yellow, even when hue is ignored\n    because the pixel is a spark or off insead.\n    \n    We set the saturation to be the 0-or-1 value of isFire. isFire will be 1 for\n    the fire pixels and 0 for the spark or off pixels. That means we'll have \n    saturated red-yellow colors when isFire is 1, and we'll have desaturated \n    (white) colors for a spark.\n    \n    Finally, for the brightness value, we want this pixel to be bright (1) if \n    it's either a fire pixel or a spark pixel, and fully off (0) otherwise.\n  */\n  hsv(h, isFire, isFire || isSpark)\n}\n"
  },
  "preview": "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"
}