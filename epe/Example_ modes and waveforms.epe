{
  "name": "Example: modes and waveforms",
  "id": "sCyaMqsmsrdM9JbJi",
  "sources": {
    "main": "/*\n * In this example you'll see:\n * - Using an array to switch between modes\n * - lambda style function expressions\n * - different waveform functions and combinations\n * - accumulating delta to make a mode switch timer\n */\n \n// first, keep track of how many modes there will be\nnumModes = 13\nmodes = array(numModes) // make an array to store the modes\n// make a bunch of lambda style mode functions and put them in the modes array\nmodes[0] = (f) => f % 1 //this will just cause any numbers above 1.0 to wrap around\nmodes[1] = (f) => triangle(f) // triangle has a linear slope\nmodes[2] = (f) => wave(f) // wave uses the sin to create rounded slopes\nmodes[3] = (f) => square(f, .5) // a square wave is just on or off and has no transition\nmodes[4] = (f) => triangle(triangle(f)) // combining wave functions can create interesting effects\nmodes[5] = (f) => wave(triangle(f))\nmodes[6] = (f) => triangle(wave(f))\nmodes[7] = (f) => wave(wave(f))\nmodes[8] = (f) => square(wave(triangle(f)), .7) // here we've made a dash-dot-dash pattern\nmodes[9] = (f) => wave(f) * triangle(f*1.3) // by multiplying waveforms, we get a darken effect\nmodes[10] = (f) => (wave(f*1) + triangle(f*3.3))/2 // blend waveforms by averaging them\nmodes[11] = (f) => triangle(f*2) - wave(f*1.5) // subtraction can create interesting interference patterns\nmodes[12] = (f) => abs(triangle(f) - wave(f*2)) // subtraction with absolute value gives a distance\n\ntimer = 0 // accumulate all the deltas each animation frame\nmode = 0 // start with mode 0\n\n// the beforeRender function is called once before each animation frame\n// and is passed a delta in fractional milliseconds since the last frame\n// this has very high resolution, down to 6.25 nanosecons!\nexport function beforeRender(delta) {\n  timer += delta // accumulate all the deltas into a timer\n  if (timer > 600) { // after 800ms, rewind the timer and switch modes\n    timer -= 600\n    mode = (mode + 1) % numModes // go to the next mode, and keep between 0 and numModes\n  }\n  // uncomment this line to check out a specific mode\n  // mode = 0\n}\n\n// the render function is called for every pixel. here we're going to use \n// the pixel's index to make a number between 0.0 and 4.0\n// then pass that in to the current mode function and use it for brightness\nexport function render(index) {\n  // look up the current mode function and call it\n  v = modes[mode](4 * index / pixelCount)\n  hsv(0, 0, v)\n}"
  },
  "preview": "/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCACWAGQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDyH9l7/kU9F/69ov8A0EV9xfD37kX4V8O/svf8inov/XtF/wCgivuL4e/ci/CgD6E8Hfdj/Cvy9sf+S9fFT/sddc/9ONxX6heDvux/hX5e2P8AyXr4qf8AY665/wCnG4oA+q/h39yKvojwb91K+d/h39yKvojwb91KAPzx+P3/ACe58Vf+vrTf/TTZV7j8N/8AVxfhXh3x+/5Pc+Kv/X1pv/ppsq9x+G/+ri/CgD6O8F/djr4n/bs/5PB0b/sS9P8A/S7Ua+2PBf3Y6+J/27P+TwdG/wCxL0//ANLtRoA7T4Zf6qH6CvpXwT92Ovmr4Zf6qH6CvpXwT92OgD1/Tv8Aj0SijTv+PRKKAPy4/Yq0ewuvAfhxprK2mY2cJJkiVifkHqK/RPwt4Z0eLw48iaTYpIFGHW2QEfjivz3/AGI/+RB8N/8AXnD/AOgCv0a8Nf8AIsSf7ooA+a/jn4n1nw/ZXR0vVr7TSoO02dy8WPptIr5Q/ZOiTxBd6vf6oi6lfXOs3809zeDzZZXa6lLMzNksSSSSeTX05+0X/wAeF5/utXzN+xv/AKq+/wCwre/+lMlAH6Q/Drwto39kM/8AZFhvCZDfZkyP0ryv4z6zqGg21wdMvrnTioODaTNFj/vkivZ/h1/yBX/6514Z8ff+PW6+hoA+K/gtdz+LvjL461DXZpNav5NTjV7rUXM8rBbWBVBZ8k4UAD0AAr9IPhL4W0WSzQtpFgx29TbIe30r82v2df8Akqfjb/sKr/6Tw1+nPwi/48k/3f6UAcT8XryfQoJzps8mnlQcfZXMWP8AvnFfn5Zaxf8AjH9pnV5dfvrnXJYNMtIIn1KZrho4xLckIpcnC5ZjgcZJ9a+/fjn/AMe9z9DX57eDv+TlNe/68bT/ANGT0Afov8GPC+jSwQb9JsX4H3rZD/StL4rD+w4Jjp3/ABLyAcfZf3WP++cUvwV/1Fv9BR8av9RcfQ0AfAvxP+M3xA0zxbcQWfjnxLaQKoxFBq9wijk9g+KK474uf8jrc/7o/maKAP0c+Av7PPw/8K+GbKDS9A+yxQRKka/bbh9oAwB80hz+NO+OPi7Vvh/oFyugXf2BVU4HlpJ/6GDXonwl/wCQDD/uCvI/2o/+QHd/7p/lQB+d2iftA+PviP8AGXVPD3iLXv7R0dAm22+x28WMls/Mkat2Hev0H/Zz/Z1+Hui6Qktn4f8AJkld7hz9tuGy7sXY8yHqzE46c1+Wvwt/5OM1f/tl/Nq/ZH4D/wDICt/9wfyoAr/FTU7n4faHcHQJfsG1Dj5RJ/6GDX5geNv2lviRr3xvh8OX/iPz9GlRy9t9htlz8yj7wjDdCe9fpr+0P/yArr/dNfj3r/8AycxZ/wDXN/8A0NaAP0r/AGbP2ffAEnnaw2gZ1G/dZ7mb7ZcfvH2qudvmYHCqMAAcV7x44gTwBo0smgr9gdEODnzMcf7ea4v9mn/kB2v+4K7j40/8gKf/AHD/ACoA/Lr9oX9qH4m2/wAUNJ0aPxNt026uGjmg+wWp3LtJxu8rI6djX1H+zd8DvBPinUR4l1TRPtWt3USRzXX2udNyqWKjarhRgu3Qd6+CP2i/+S3eH/8Ar7b/ANBav0y/ZO/5Aln/ALooA9w1zw/YeBdHMuh2/wBhdFyp3tJj/vsmvzR/a/8A2ofid4b1y1tdO8TfZoJruOJ0+wWrZUuARloielfp/wDEn/kAyf7lfjZ+25/yNGn/APX/AA/+higD3zwX4I0Tx94dtdZ16y+3alMv7yfzXjzwD91GA7ntRW78G/8AkQNP+n9BRQB+inh3wxa+GbRbe1kmkRRgGZgT+gFfH3/BUjx/qPwQ+Bmk+J9Chtru/wBQ1+HSZY9RVniWJ7a5lLKEZTu3QqASSME8dCPtmvgD/gtX/wAmseFv+xztf/SG+oA/JvQPjrr3h3xpc+J7a0057+fbujlikMQxnGAHB7+tf0F/sxxDWPgZ8PvE02Vv9d8PafqlzHHxEks9tHK4QHJChnIAJJxjJPWv5r6/pT/ZO/5NY+Df/YmaN/6Qw0AcB+3/AOJbr4Xfsw+M/HWlRw3Gr6ULMQQ3gLQN515BA25VKscLKxGGHIHUcH8L7z45a9e+OY/FT2mnDUY1KiJY5PK5IPTfnt61+3X/AAVH/wCTE/ib/wBwz/06WlfgDQB/QZ/wT71ib4lfsw+C/HWprHBq+qi8E0NoCsC+TeTwLtVizDKxKTljyT0HA9K/aWmOg/Az4g+JrcB7/QvD2oapbRy8xPLBbSSoHAwSpZACAQcZwR1ryf8A4Jcf8mJ/DL/uJ/8Ap0u69V/ax/5NY+Mn/Ymaz/6QzUAfz6+NPj34g8deKbPX7+z02G8tZDKiW0UixkkEcguTjn1r9fP+CWXjC8+NPwN1bxPrcUFrf6dr82kxR6erJE0SW1tKGYOWJbdMwJBAwBx1J/Dqv2p/4Iqf8mseKf8Asc7r/wBIbGgD7s1zQLfX7Q29w8qIRjMRAP6g1/N/8Uv2j/Evxcv4bvWLHSraSKZZlFjDKgLKcjO6RuOK/pTr+VegD6O8M/t3+PvCujw6baaR4bkgi4Vpra4LH64nA/SivnGigD+lT4K/tGeGvjt4Ysdd0Cx1W0tLy3W5jTUookkCsu4AhJHGcH1r5H/4KbarD+0H4J8LfCvw6r2XiEeIotT+06oBHaeVHbXMbDchd92Z0wNmMA8jgHrP+Ccn/JGPDP8A2CYf/RQrz745f8nD+GP+usv8qAPknWf+CUPxb0Pw0uuT+IvBb2jKWCR312ZOPY2oH61+nv7FXxy0HxT8FPBHhK0tNRj1HwzpVt4dvJZo4xDJcWcYtpWjIckxl4mKkgEqRlQeBv8AxE/5I5D/ANcm/lXzf/wTt/1Gqf8AYd1L/wBLZqAO9/4KM+O7Dxn8APEfwusobmLxB4insbe0ubhVFqjR3sE7GRgxYDbEwGEPJHbkfnxbf8Enfi5deGDrqeIvBQtAM7DfXfmdM9PsuP1r7M/bO/5Hbw9/2FIv5mvpTSP+SLv/ALg/lQB4z/wTs+KOleBfgvpXwdv7e8m8TeELu7s7+7tkRrKV5riS7QxOWDkCO5QHci/MGABABPqP7ZnxY0jQfgX8QPDNxbXr3+vaDfaRbSRIhiSa4t3hRnJcEKGcEkAnGcA9K+Xf2Qv+S5/En/sOp/6SW1elft8/8gGT/rpH/wChCgD4G8K/8EqPiz4v8OvrNn4h8GRWqp5hSe9uw+PoLUj9a+xf+Cbfia1/Zo0LxT8GPE8c1/4o/tk679r0gCSy8ieGKBF3yFH3hrSQkbMYK4JJIH0h8Dv+SST/APXuK+Sfh5/yeV4p/wCwZYf+jrqgD76+Jvxu0L4U6G+q6taahcW6ReaVso42fGM9GdRn8a/Fb4Zf8Ewvil8VtDTVdJ1/whb27xeaFvby6V8Yz0W2YZ/Gv07/AGzP+SaXH/Xkf/QaP2M/+SaW/wD15D/0GgD8j/F/7DfjvwVrcul32reHZbiMAlre5nKd+5hB7elFfcfx+/5KRef7i/zaigD3v9jfwLrnwW+CehyeM7H+xktdMjjmPmpPtYRgEfumbPPpXz98RfiF4f8AHXxLh8Z6HqH27w14fnmTU77yZI/s56fcdQ7cj+FTX274u/5IG3/Xqf8A0Gvy6+Hf/JFfi/8A9fs//oRoA/R7SvEmnfHL4MWz+CLj+21aEsDsa3yCOP8AWhK8w/Yt+Eniz4XaTq174n0r+zLVdX1Ccv8AaYpcI11K6nEbseVIOOta/wDwTf8A+SG6d/16r/6DXu2l/wDJO9d/673H/obUAfE37RHj3Qviz4+MHhS+/tWXw/epcamvkyQ/Z4xyT+8Vd3HZcmvo74NfEbw78ZPhNLZeD9Q/te5XMZTyJIMMuQRmVVHUV8I/Db/kq/xm/wCuLf8AoFfQH/BLH/kVLz/r6m/9GNQBr/s0fA3xv4O+LPxC1bWNE+x6fNq6zxzfa4HygtoFJwrk9VYYxnisz9r34heH/ibr914K8NX/APaXiaILO9j5MkWEDDJ3yKqdj/FX2L4c/wCP3xf/ANdj/wCi1r807j/k9jWv+wc382oA+uf2Zfit4W8a+EdT8M6Lqn2zW7MfZp7X7PLHskGMruZQp+oOK838E/AHx7p/7VPiTXLjQfL0uTTrNFn+2W5yVluC3yiTdwHXt3rgf+CdP/JV/G//AGFZP6V+gWn/APJSNX/69I/5vQB8uftffE/wzqUUPgO21PzPFd9bNFb6f5Eo3sFwR5hXYOvdhR+yD8T/AAzpsU3gO51Py/FdjbLFcaf5Ep2MVwB5gXYenZjXgf7Sf/J53g//AHpf/ZaP2bP+TzvGH+9F/wCzUAesfGr4CeO9Z8d3N3Z6F51vJGpV/tkC55PYyA0V9geL/wDkKJ/1xX+tFAHnHxS8e+GfBvwUbT/EHiLSdDvzB5YtdSvoreUuRgLtdgck8YxX56/DPwH4lvPgj8VZIPDuqzx3V3NJbvHZSsJlLHDIQvzA+orvf+CqH/H9F/1/wf8Ao5a+i/2ef+TcL/8A69l/lQBh/wDBPXx34a0H4Z2nhzU/EOlad4hhtlWXSbu9iiu4yRgBomYOOh6jtXvereM/D/gT4c60fEuu6b4eDyTSKdVvI7bcpZiGHmEcEc5r8vvgb/yd94g+kP8A6E9fSv8AwU+/5JfP/wBg1f8A0XQB478H/DGs6/8AED4tarpek32paXeQMba+tLZ5YJxs6o6gq34GvWf+CcHivRPh9Z3OheKdZ0/w1rclxM6abq90lpcsvmHkRyEMRyO3cV1X7AX/ACR64/68D/KvkPxR/wAnoWH/AFxl/wDRiUAfq7D4n0fwtH4m1DWtWsdIsLlzJDdX9ykEUq7FG5WYgEZB5B7V+dnhyxufHn7XGra94at5fEWhy6eyx6npSG6tnOW4EseVP519Iftj/wDJAtM/68D/ADNeO/8ABK//AJFO1/64n+RoAo/sR61p/wALvi/4rg8Z39t4RnvdUkNrFrsy2TTjA+4JSpboemelff0XiLSrDxVqet3Op2dvostqgTUZbhFt3ILZAkJ2nGR371+VP7Xf/JzHhP8A6/3/APQGr7l+Iv8Aya5af7j/APoK0AfL3xcni+J37XfhjUfB0ieLNPtpZUnu9DYXsUTZAwzxbgpyDwTR8JJ4vhj+134n1HxjInhPT7mWJILvXGFlFK2SMK8u0MckcA1jf8E0/wDkd9W/7Ctx/wCjWo/4KWf8jvpP/YVt/wD0atAH6UaxrOn+IJ4rzS7621KzaJQtxZzLLGfoykiivKv2dv8AklWk/T+gooA+TP8Agqh/x/Rf9f8AB/6OWvov9nn/AJNwv/8Ar2X+VfPXgFR8T/jn8W7LxkB4ts7HVwtpb65/psduBDGwEay7gvzc8Y55r0f9ifUrzUPj78SPDl1dT3Ph62EQh0maQvaRDYOFiJ2D8BQB8t/A3/k77xB9If8A0J6+lf8Agp9/yS+f/sGr/wCi6+hvAvwr8FWnxev72DwfoMN45+a4j0yBZDjOMsFzxk18seObqbxp+2p4x8MeIZpNd8Nw6XbeVo+psbizjy8oO2F8oMgAcDsKAPQv2Av+SPXH/Xgf5V8h+KP+T0LD/rjL/wCjEr6Q+BV7caJ+2b/wi+nTy2Hhk6Vk6NauY7MneRnyVwnT2r6P1X4U+CZPjXDet4P0Br0HAuDpkBkAJyRu257CgDzr9sf/AJIFpn/Xgf5mvHf+CV//ACKdr/1xP8jW/wDtXapey/theDvCr3c7+F5NKuS+iNKxsnIeLBMGdhxk9u59a50E/D39qP4b6J4VP/CM6LcmUT6do/8AolvKMLgNHHhW/EUAeOftd/8AJzHhP/r/AH/9AavuX4i/8muWn+4//oK11nxY+F3gzVPiHo93eeEdCu7tGV1nn02F3ViOSGK5B5NeGft/are+GvHHwi0LSLy40rRLzUvLudNspWhtp18iQ7XjUhWGQDgjsKAPDP8Agmn/AMjvq3/YVuP/AEa1H/BSz/kd9J/7Ctv/AOjVro/jDawfDDxR8PW8HQx+E2vdZhF0dDUWRn3ZLb/K27snk5zmvsf41fDrwn4mtPD1zrHhjRtWuGEchmvtPimcuMENllJznnNAGR+zt/ySrSfp/QUV7DYaFpuj6Tp9vYafa2NuLdSIraBY0zzzgACigD88fgR/ycD8aP8AsM/+28Vd/wDsOf8AJ0fxR/7Zf+gCvnn9nHxdq11/wVO8WeBZbvd4V1PxZ4ht7uw8tB5sdrDd/Zx5mN42+RFyGBO3nOTn9T/A37P3gH4beKdU8R+HNB/s7WdTx9ruftlxL5uBgfK8jKPwAoA53wb/AMlQvf8AeNfFmqf8n++N/wDsF2v/AKMmroP+Cp3xz8b/ALLeqfDHUfhhrf8AwjN5rv8Aap1GX7JBd+f5P2Ty+LhJAuPNk+6BndznAx8lWHxf8XX/AO3h8MJJ9W8x/FcXgiDWT9mhH2pL2xsJrocJ8m+S6nb5Nu3fhdoCgAH1T8Hf+T+B/wBgkf8AoZr6+1L/AJK7H/vCt3R/2c/h5oHj7/hNbDw95HibyvI+3fbbhvkznGwyFOvfbXzf/wAFRfiV4k/Z8+DPh/xv4A1H+wPFFz4nt9Plv/Ijud0DWt3IyeXMroMtFGchc/L1wTkA83/ar/5Pv8Ff9gm7/wDQ4axvF/8AyeD8Lv8Ael/ktfGXx2/aT+I+r3HwZ+IV34i83xfqHhO5ubnUfsNsvmSf21qNvu8sRiMfurS3XAUD93nqzE/txefs0fDe/wDGGl+KZ/Dnma9phJtLv7dcjys9fkEm09O4NAGV8Sf+R30r/gNfLX/BRj/kq/wW/wCwr/7by17h/wAFB/EWofC79lzxp4+8MXH9meLdH+wfYdQ2LL5PmX9vE/7uQMjZSRx8ynrkcgGvyX+MH7T/AMTPif8ABj4Z+NvE3iX+0vE9t4s1y1ivvsFtFtjt7PSmhXZHEqHaby55K5Pmc52rgA+uP2mf+Rl+GH/YZt/5GvuP4nf8grw7/wBc0rk/hD8CvA/xq+Bfwg8WeM9E/tnX5fD+law939rngzdyWkcjybInVeWZjtxt54GK7n9pi3j8P/s+/ELX7BfI1fw/4Y1K/wBMuM7vs88NrJJE+05VsMqnDAg45BFAHVN/x5af/wBey/zNFfhIf+CmP7SRSNP+Fj/LGoRR/YWm8Af9u1FAHsP7NP8AymS1f/sc/Fn/AKJ1Gv2poooA/Kv/AILnf80T/wC43/7YV8q6J/yfZ8BP+6df+mvSKKKAP3+r4A/4LV/8mseFv+xztf8A0hvqKKAPyr+Mn/JOvgT/ANiZc/8AqQ6zX9KdFFAHyr/wVH/5MT+Jv/cM/wDTpaV+K3iP/k1j4ef9jn4l/wDSHQqKKAP3+/ZO/wCTWPg3/wBiZo3/AKQw0ftY/wDJrHxk/wCxM1n/ANIZqKKAP5rKKKKAP//Z"
}